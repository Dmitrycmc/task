{"version":3,"sources":["components/icons/check-icon.svg","data lazy /^/.*/overview/.json$/ groupOptions: {} namespace object","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/construct.js","helpers/elements.js","helpers/event-listeners.js","components/check-box/check-box.js","components/icons/checkbox-icon.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","helpers/utils.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","components/chart/line.js","components/chart/bars.js","helpers/date-time.js","components/tooltip/tooltip.js","components/grid/grid.js","components/chart/chart.js","components/map/map.js","components/switch-button/switch-button.js","index.js","components/footer/footer.js"],"names":["module","exports","__webpack_require__","p","map","./1/overview.json","./2/overview.json","./3/overview.json","./4/overview.json","./5/overview.json","webpackAsyncContext","req","ids","e","then","id","t","Promise","resolve","Error","code","keys","Object","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_setPrototypeOf","o","setPrototypeOf","__proto__","construct_construct","Parent","args","Class","Reflect","construct","sham","Proxy","Date","prototype","toString","call","isNativeReflectConstruct","a","apply","instance","Function","bind","arguments","createElement","className","tag","node","document","createSvgElement","attrs","createElementNS","baseVal","forEach","setAttribute","addListener","element","event","listener","addEventListener","removeListener","removeEventListener","addDragAndDropListeners","getTouchCoords","x","touches","clientX","y","clientY","offset","offsetX","offsetY","getMouseOffset","onMouseMove","buttons","body","onMouseUp","mouseCoords","getMouseCoords","cornerCoords","box","getBoundingClientRect","touchCoords","left","top","getTouchOffset","onTouchMove","onTouchEnd","check_box_check_box","color","text","onChange","checked","wrapper","style","backgroundColor","borderColor","mark","label","textContent","appendChild","img","icon","createCheckIcon","opacity","_classCallCheck","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","minmax","min","max","_ref","y0","y1","Math","boundBy","right","relToAbs","rel","b","absToRel","abs","calcYBounds","xData","yData","x0Rel","x1Rel","type","j","x0","x1","k","el","findClosestIndex","xRel","getColumns","types","columns","xKey","filter","xColumn","column","yColumns","reduce","source","ownKeys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","_objectSpread","arrSum","colorToGrb","c","replace","r","parseInt","g","slice","sdf","split","generatePoints","area","yBase","yFull","yVal","xMin","dx","points","Line","yColumn","_this","this","yColumnBase","yColumnFull","_yColumnBase","_area","_xColumn","_yColumn","_chartLine","_mapLine","_visible","_color","stroke-linejoin","vector-effect","stroke","fill","intersectionLineV","x2","intersectionPoint","_intersectionLineH","_intersectionPoint0","_intersectionPoint1","_intersectionPoint2","_intersectionPoint3","_intersectionPoint4","mapNode","val","_ref2","_ref4","_ref3","svgW","svgH","display","stroke-width","_selectedBar","xMouse","step","ceil","background","window","getComputedStyle","c1","c2","_colorToGrb","r1","g1","b1","_colorToGrb2","r2","g2","b2","rgbToString","toFixed","calcOpacityColor","days","months","MARGIN","PADDING","WIDTH","LINE_HEIGHT","Tooltip","parentNode","transformY","transformX","rect","rx","ry","width","transform","svgBox","height","xAbs","data","childNodes","removeChild","xText","ms","date","dayOfWeek","getDay","dayOfMonth","getDate","month","getMonth","year","getFullYear","tooltipDate","name","yName","dy","text-anchor","Grid","resize","_this$node$parentNode","_this$node$parentNode2","countV","countH","yStep","xStep","yCur","line","y2","xCur","typeToConstructor","_len","_key","bar","_len2","_key2","Bars","_len3","_key3","chart_chart","title","chartSvg","colors","names","percentage","stacked","_getColumns","y_scaled","entries","q","assign","tooltip","grid","mouseXFixed","keyToYBound","keyToGlobalYBound","chartViewportTransform","chartAreaXTransform","controls","header","init","visualisation","reverse","_createMap","mapSvg","svgWrapper","mapViewportTransform","mapOverlayLeft","mapOverlayRight","mapWindow","windowLeftEdge","windowRightEdge","append","appendBeforeOverlay","insertBefore","setMapViewport","w","h","setMapWindow","mapWidth","createMap","updateIntersections","_chartSvg$getBounding","tooltipData","visible","render","updateYArea","yColumnSum","_ref5","getYBounds","_ref6","getGlobalYBounds","globalMin","globalMax","yChartArea","yMapArea","deepUpdateYArea","updateXBounds","setXChartArea","onResize","_chartSvg$getBounding2","svgWidth","svgHeight","_mapNode$getBoundingC","mapHeight","createCheckBox","getMapX","getChartX","coords","switch_button_switch_button","btn","night","charts","root","getElementById","footer","createSwitchButton","createFooter","dataPromise","chartNum","dataNum","default","_createChart","createChart"],"mappings":"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","file":"static/js/main.401c86fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/check-icon.fa65b9e0.svg\";","var map = {\n\t\"./1/overview.json\": [\n\t\t12,\n\t\t0\n\t],\n\t\"./2/overview.json\": [\n\t\t13,\n\t\t1\n\t],\n\t\"./3/overview.json\": [\n\t\t14,\n\t\t2\n\t],\n\t\"./4/overview.json\": [\n\t\t15,\n\t\t3\n\t],\n\t\"./5/overview.json\": [\n\t\t16,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 10;\nmodule.exports = webpackAsyncContext;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","export const createElement = (className, tag = 'div') => {\r\n    const node = document.createElement(tag);\r\n    if (className) node.className = className;\r\n    return node;\r\n};\r\n\r\nexport const createSvgElement = (tag, attrs, className) => {\r\n    const node = document.createElementNS('http://www.w3.org/2000/svg', tag);\r\n    if (className) {\r\n        node.className.baseVal = className;\r\n    }\r\n    if (attrs) {\r\n        Object.keys(attrs).forEach(key => {\r\n            node.setAttribute(key, attrs[key]);\r\n        });\r\n    }\r\n    return node;\r\n};\r\n","export const addListener = (element, event, listener) => {\r\n    element.addEventListener(event, listener, false);\r\n};\r\n\r\nexport const removeListener = (element, event, listener) => {\r\n    element.removeEventListener(event, listener);\r\n};\r\n\r\nexport const addDragAndDropListeners = (element, listener) => {\r\n    const getMouseCoords = e => ({ x: e.clientX, y: e.clientY });\r\n    const getTouchCoords = e => ({ x: e.touches[0].clientX, y: e.touches[0].clientY });\r\n    const getMouseOffset = e => ({ x: e.offsetX, y: e.offsetY });\r\n    const getTouchOffset = e => {\r\n        const box = element.getBoundingClientRect();\r\n        const touchCoords = getTouchCoords(e);\r\n        return {\r\n            x: touchCoords.x - box.left,\r\n            y: touchCoords.y - box.top\r\n        };\r\n    };\r\n\r\n    addListener(element, 'mousedown', e => {\r\n        const offset = getMouseOffset(e);\r\n\r\n        const onMouseMove = e => {\r\n            if (e.buttons !== 1) {\r\n                removeListener(document.body, 'mousemove', onMouseMove);\r\n                removeListener(document.body, 'mouseup', onMouseUp);\r\n            } else {\r\n                const mouseCoords = getMouseCoords(e);\r\n                const cornerCoords = { x: mouseCoords.x - offset.x, y: mouseCoords.y + offset.y };\r\n                listener(cornerCoords);\r\n            }\r\n        };\r\n\r\n        function onMouseUp() {\r\n            removeListener(document.body, 'mousemove', onMouseMove);\r\n            removeListener(document.body, 'mouseup', onMouseUp);\r\n        }\r\n\r\n        addListener(document.body, 'mousemove', onMouseMove);\r\n        addListener(document.body, 'mouseup', onMouseUp);\r\n    });\r\n\r\n    addListener(element, 'touchstart', e => {\r\n        const offset = getTouchOffset(e);\r\n\r\n        const onTouchMove = e => {\r\n            const touchCoords = getTouchCoords(e);\r\n            const cornerCoords = { x: touchCoords.x - offset.x, y: touchCoords.y + offset.y };\r\n            listener(cornerCoords);\r\n        };\r\n\r\n        function onTouchEnd() {\r\n            removeListener(document.body, 'touchmove', onTouchMove);\r\n            removeListener(document.body, 'touchend', onTouchEnd);\r\n            removeListener(document.body, 'touchcancel', onTouchEnd);\r\n        }\r\n\r\n        addListener(document.body, 'touchmove', onTouchMove);\r\n        addListener(document.body, 'touchend', onTouchEnd);\r\n        addListener(document.body, 'touchcancel', onTouchEnd);\r\n    });\r\n};\r\n","import './check-box.css';\r\nimport { createElement } from '../../helpers/elements';\r\nimport { addListener } from '../../helpers/event-listeners';\r\nimport createCheckIcon from '../icons/checkbox-icon';\r\n\r\nexport default (color, text, onChange) => {\r\n    let checked = true;\r\n\r\n    const wrapper = createElement('cb_wrapper');\r\n    wrapper.style.backgroundColor = color;\r\n    wrapper.style.borderColor = color;\r\n\r\n    const mark = createElement('mark');\r\n\r\n    const label = createElement('cb_label');\r\n    label.textContent = text;\r\n\r\n    wrapper.appendChild(mark);\r\n    wrapper.appendChild(label);\r\n\r\n    mark.appendChild(createCheckIcon());\r\n\r\n    addListener(wrapper, 'click', () => {\r\n        checked = !checked;\r\n        onChange && onChange(checked);\r\n        wrapper.style.backgroundColor = checked ? color : 'transparent';\r\n        label.style.color = checked ? 'white' : color;\r\n        mark.style.opacity = +checked;\r\n    });\r\n\r\n    return wrapper;\r\n};\r\n","import icon from './check-icon.svg';\r\nimport { createElement } from '../../helpers/elements';\r\n\r\nexport default () => {\r\n    const img = createElement('icon', 'img');\r\n    img.setAttribute('src', icon);\r\n    return img;\r\n};\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export const minmax = arr => {\r\n    let min = null,\r\n        max = null;\r\n\r\n    arr.forEach(({ min: y0, max: y1 }) => {\r\n        min = min === null ? y0 : Math.min(min, y0);\r\n        max = max === null ? y1 : Math.max(max, y1);\r\n    });\r\n\r\n    return { min, max };\r\n};\r\n\r\nexport const boundBy = (x, left, right) => {\r\n    x = left === undefined ? x : Math.max(left, x);\r\n    x = right === undefined ? x : Math.min(right, x);\r\n    return x;\r\n};\r\n\r\nexport const relToAbs = (rel, a, b) => a + rel * (b - a);\r\n\r\nexport const absToRel = (abs, a, b) => (abs - a) / (b - a);\r\n\r\nexport const calcYBounds = (xData, yData, x0Rel, x1Rel, type) => {\r\n    if (!yData) return { min: 0, max: 0 };\r\n\r\n    let i = 1;\r\n    let j = xData.length - 1;\r\n\r\n    const x0 = relToAbs(x0Rel, xData[1], xData[j]);\r\n    const x1 = relToAbs(x1Rel, xData[1], xData[j]);\r\n\r\n    while (xData[i] < x0) i++;\r\n    while (xData[j] > x1) j--;\r\n\r\n    let min = yData[i],\r\n        max = yData[i];\r\n\r\n    for (let k = i + 1; k <= j; k++) {\r\n        const el = yData[k];\r\n        min = Math.min(min, el);\r\n        max = Math.max(max, el);\r\n    }\r\n\r\n    return { min: type === 'line' ? min : 0, max: max };\r\n};\r\n\r\nexport const findClosestIndex = (xData, xRel) => {\r\n    if (!xRel) return null;\r\n    let x = relToAbs(xRel, xData[1], xData[xData.length - 1]);\r\n    let i = 1;\r\n    while (xData[i] < x) i++;\r\n    i = (xData[i - 1] + xData[i]) / 2 < x ? i : i - 1;\r\n\r\n    return i;\r\n};\r\n\r\n/*\r\nexport const interpolate = (xData, yData, xRel) => {\r\n    if (!xRel) return null;\r\n    const x = relToAbs(xRel, xData[1], xData[xData.length - 1]);\r\n    let i = 1;\r\n    while (xData[i] < x) i++;\r\n    const y = yData[i - 1] + ((x - xData[i - 1]) * (yData[i] - yData[i - 1])) / (xData[i] - xData[i - 1]);\r\n    return y;\r\n};\r\n*/\r\n\r\nexport const getColumns = (types, columns) => {\r\n    const xKey = Object.keys(types).filter(key => types[key] === 'x')[0];\r\n    const xColumn = columns.filter(column => column[0] === xKey)[0];\r\n\r\n    const keys = Object.keys(types).filter(key => types[key] !== 'x');\r\n    const yColumns = keys.reduce((obj, key) => ({ ...obj, [key]: columns.filter(column => column[0] === key)[0] }), {});\r\n\r\n    return { xColumn, yColumns, keys };\r\n};\r\n\r\nexport const arrSum = (a, b) => {\r\n    if (!a) return [...b];\r\n    return a.map((el, i) => el + b[i]);\r\n};\r\n\r\nconst colorToGrb = c => {\r\n    c = c.replace(/ /g, '');\r\n    if (c[0] === '#') {\r\n        if (c.length === 4) {\r\n            // #rgb\r\n            return {\r\n                r: parseInt(c[1] + c[1], 16),\r\n                g: parseInt(c[2] + c[2], 16),\r\n                b: parseInt(c[3] + c[3], 16)\r\n            };\r\n        } else {\r\n            // #rrggbb\r\n            return {\r\n                r: parseInt(c.slice(1, 3), 16),\r\n                g: parseInt(c.slice(3, 5), 16),\r\n                b: parseInt(c.slice(5, 7), 16)\r\n            };\r\n        }\r\n    } else {\r\n        // rgb(r,g,b)\r\n        const sdf = c.slice(4, -1).split(',');\r\n        return {\r\n            r: +sdf[0],\r\n            g: +sdf[1],\r\n            b: +sdf[2]\r\n        };\r\n    }\r\n};\r\n\r\nconst rgbToString = ({ r, g, b }) => `rgb(${r}, ${g}, ${b})`;\r\n\r\nexport const calcOpacityColor = (c1, c2, opacity) => {\r\n    const { r: r1, g: g1, b: b1 } = colorToGrb(c1);\r\n    const { r: r2, g: g2, b: b2 } = colorToGrb(c2);\r\n    return rgbToString({\r\n        r: (opacity * r1 + (1 - opacity) * r2).toFixed(),\r\n        g: (opacity * g1 + (1 - opacity) * g2).toFixed(),\r\n        b: (opacity * b1 + (1 - opacity) * b2).toFixed()\r\n    });\r\n};\r\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import { createSvgElement } from '../../helpers/elements';\r\nimport { absToRel, findClosestIndex } from '../../helpers/utils';\r\n\r\nconst generatePoints = (area, x, y, yBase = [], yFull = []) => {\r\n    const length = x.length;\r\n\r\n    const yVal = i => ((yBase[i] || 0) + y[i]) * (100 / yFull[i] || 1);\r\n\r\n    let xMin = x[1],\r\n        dx = x[length - 1] - xMin,\r\n        points = `0,${yVal(1)} `;\r\n\r\n    for (let i = 2; i < length; i++) {\r\n        points += `${(x[i] - xMin) / dx},${yVal(i)} `;\r\n    }\r\n\r\n    return area ? `0,0 ${points} 1,0` : points;\r\n};\r\n\r\nexport default class Line {\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(val) {\r\n        this._visible = val;\r\n        if (!this._area) {\r\n            this._intersectionPoint0.setAttribute('opacity', +val);\r\n            this._intersectionLineH.setAttribute('opacity', +val);\r\n        }\r\n        this._chartLine.setAttribute('opacity', +val);\r\n        this._mapLine.setAttribute('opacity', +val);\r\n    }\r\n\r\n    set yMapArea([y0, y1]) {\r\n        this.mapNode.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n    }\r\n\r\n    set yChartArea([y0, y1]) {\r\n        this.node.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n    }\r\n\r\n    constructor(area, keys, xColumn, yColumn, color) {\r\n        this._visible = true;\r\n        this._color = color;\r\n        this._xColumn = xColumn;\r\n        this._yColumn = yColumn;\r\n        this._area = area;\r\n\r\n        const points = generatePoints(area, xColumn, yColumn);\r\n        this._chartLine = createSvgElement(\r\n            area ? 'polygon' : 'polyline',\r\n            {\r\n                'stroke-linejoin': 'round',\r\n                'vector-effect': 'non-scaling-stroke',\r\n                points,\r\n                stroke: area ? 'none' : color,\r\n                fill: area ? color : 'none'\r\n            },\r\n            'chart-line'\r\n        );\r\n        this._mapLine = createSvgElement(\r\n            'polyline',\r\n            {\r\n                'stroke-linejoin': 'round',\r\n                'vector-effect': 'non-scaling-stroke',\r\n                points,\r\n                stroke: area ? 'none' : color,\r\n                fill: area ? color : 'none'\r\n            },\r\n            'map-line'\r\n        );\r\n\r\n        const intersectionLineV = createSvgElement(\r\n            'line',\r\n            { x1: 0, x2: 0, y0: 0, y1: 1, 'vector-effect': 'non-scaling-stroke' },\r\n            'intersection-line'\r\n        );\r\n\r\n        this.intersectionPoint = createSvgElement('g', {}, '');\r\n        this.intersectionPoint.appendChild(intersectionLineV);\r\n\r\n        if (!area) {\r\n            this._intersectionLineH = createSvgElement(\r\n                'line',\r\n                {\r\n                    x1: -1,\r\n                    x2: 1,\r\n                    y0: 0,\r\n                    y1: 0,\r\n                    'vector-effect': 'non-scaling-stroke'\r\n                },\r\n                'intersection-line'\r\n            );\r\n\r\n            this._intersectionPoint0 = createSvgElement(\r\n                'circle',\r\n                { r: 5, stroke: color, fill: 'white' },\r\n                'intersection-point'\r\n            );\r\n            this._intersectionPoint1 = createSvgElement('g', {}, '');\r\n            this._intersectionPoint2 = createSvgElement('g', {}, 'animated');\r\n            this._intersectionPoint3 = createSvgElement('g', {}, '');\r\n            this._intersectionPoint4 = createSvgElement('g', {}, 'animated');\r\n            this._intersectionPoint1.appendChild(this._intersectionPoint0);\r\n            this._intersectionPoint2.appendChild(this._intersectionPoint1);\r\n            this._intersectionPoint3.appendChild(this._intersectionLineH);\r\n            this._intersectionPoint3.appendChild(this._intersectionPoint2);\r\n            this._intersectionPoint4.appendChild(this._intersectionPoint3);\r\n            this.intersectionPoint.appendChild(this._intersectionPoint4);\r\n        }\r\n\r\n        this.mapNode = createSvgElement('g', {}, 'animated');\r\n        this.mapNode.appendChild(this._mapLine);\r\n\r\n        this.node = createSvgElement('g', {}, 'animated');\r\n        this.node.appendChild(this._chartLine);\r\n    }\r\n\r\n    onChange = (yColumnBase, yColumnFull) => {\r\n        this._yColumnBase = yColumnBase;\r\n        const points = generatePoints(this._area, this._xColumn, this._yColumn, yColumnBase, yColumnFull);\r\n        this._chartLine.setAttribute('points', points);\r\n        this._mapLine.setAttribute('points', points);\r\n    };\r\n\r\n    onMouseMove(xRel, x0, x1, y0, y1, svgW, svgH) {\r\n        let x = absToRel(xRel, x0, x1);\r\n        if (x < 0 || x > 1) {\r\n            this.intersectionPoint.style.display = 'none';\r\n            return;\r\n        }\r\n\r\n        this.intersectionPoint.style.display = 'initial';\r\n        const i = findClosestIndex(this._xColumn, xRel);\r\n        x = absToRel(this._xColumn[i], this._xColumn[1], this._xColumn[this._xColumn.length - 1]);\r\n        this.intersectionPoint.setAttribute('transform', `scale(${svgW} ${svgH}) translate(${absToRel(x, x0, x1)} 0) `);\r\n\r\n        if (!this._area) {\r\n            const y = this._yColumn[i];\r\n\r\n            this._intersectionPoint1.setAttribute('transform', `scale(${1 / svgW} ${1 / svgH})`);\r\n            this._intersectionPoint2.setAttribute('transform', `scale(1 ${y1 - y0})`);\r\n            this._intersectionPoint3.setAttribute('transform', `translate(0 ${y})`);\r\n            this._intersectionPoint4.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n        }\r\n    }\r\n}\r\n","import { createSvgElement } from '../../helpers/elements';\r\nimport { calcOpacityColor } from '../../helpers/utils';\r\n\r\nconst generatePoints = (x, y, yBase) => {\r\n    // unused x\r\n    const length = x.length - 1;\r\n\r\n    if (!yBase) {\r\n        let points = `0,0 0,${y[1]} `;\r\n\r\n        for (let i = 2; i <= length; i++) {\r\n            points += `${(i - 1) / length},${y[i - 1]} ${(i - 1) / length},${y[i]} `;\r\n        }\r\n        points += `1,${y[length]} 1,0`;\r\n\r\n        return points;\r\n    } else {\r\n        let points = `0,0 0,${yBase[1] + y[1]} `;\r\n\r\n        for (let i = 2; i <= length; i++) {\r\n            points += `${(i - 1) / length},${yBase[i - 1] + y[i - 1]} ${(i - 1) / length},${yBase[i] + y[i]} `;\r\n        }\r\n        points += `1,${yBase[length] + y[length]} 1,0`;\r\n\r\n        return points;\r\n    }\r\n};\r\n\r\nexport default class Line {\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(val) {\r\n        this._visible = val;\r\n        this._chartLine.setAttribute('fill', val ? this._color : 'transparent');\r\n        this._mapLine.setAttribute('fill', val ? this._color : 'transparent');\r\n    }\r\n\r\n    set yMapArea([y0, y1]) {\r\n        this.mapNode.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n    }\r\n\r\n    set yChartArea([y0, y1]) {\r\n        this.node.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n    }\r\n\r\n    constructor(keys, xColumn, yColumn, color) {\r\n        this._visible = true;\r\n        this._color = color;\r\n        this._xColumn = xColumn;\r\n        this._yColumn = yColumn;\r\n\r\n        this._chartLine = createSvgElement(\r\n            'polygon',\r\n            { 'vector-effect': 'non-scaling-stroke', 'stroke-width': 0, fill: color },\r\n            'chart-bar'\r\n        );\r\n        this._selectedBar = createSvgElement(\r\n            'rect',\r\n            { 'vector-effect': 'non-scaling-stroke', 'stroke-width': 0, fill: color },\r\n            'chart-bar'\r\n        );\r\n        this._mapLine = createSvgElement(\r\n            'polygon',\r\n            { 'vector-effect': 'non-scaling-stroke', 'stroke-width': 0, fill: color },\r\n            'map-bar'\r\n        );\r\n\r\n        this.mapNode = createSvgElement('g', {}, 'animated');\r\n        this.mapNode.appendChild(this._mapLine);\r\n\r\n        this.node = createSvgElement('g', {}, 'animated');\r\n        this.node.appendChild(this._chartLine);\r\n        this.node.appendChild(this._selectedBar);\r\n    }\r\n\r\n    onChange = yColumnBase => {\r\n        this._yColumnBase = yColumnBase;\r\n        const points = generatePoints(this._xColumn, this._yColumn, yColumnBase);\r\n        this._chartLine.setAttribute('points', points);\r\n        this._mapLine.setAttribute('points', points);\r\n    };\r\n\r\n    onMouseMove(xMouse) {\r\n        if (!xMouse) {\r\n            this._chartLine.setAttribute('fill', this._visible ? this._color : 'transparent');\r\n            this._selectedBar.setAttribute('fill', 'transparent');\r\n            return;\r\n        }\r\n\r\n        if (this._visible) {\r\n            const step = 1 / (this._xColumn.length - 1);\r\n            const i = Math.ceil(xMouse / step);\r\n            this._selectedBar.setAttribute('x', (i - 1) * step);\r\n            this._selectedBar.setAttribute('y', this._yColumnBase ? this._yColumnBase[i] : 0);\r\n            this._selectedBar.setAttribute('width', step);\r\n            this._selectedBar.setAttribute('height', this._yColumn[i]);\r\n            this._selectedBar.setAttribute('fill', this._color);\r\n            const background = window.getComputedStyle(document.body).backgroundColor;\r\n            this._chartLine.setAttribute('fill', calcOpacityColor(this._color, background, 0.5));\r\n        }\r\n    }\r\n}\r\n","export const tooltipDate = ms => {\r\n    const date = new Date(ms);\r\n    const dayOfWeek = days[date.getDay()];\r\n    const dayOfMonth = date.getDate();\r\n    const month = months[date.getMonth()];\r\n    const year = date.getFullYear();\r\n    return `${dayOfWeek}, ${dayOfMonth} ${month} ${year}`;\r\n};\r\n\r\nconst days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\r\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'Jule', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n","import { createSvgElement } from '../../helpers/elements';\r\nimport './tooltip.css';\r\nimport { tooltipDate } from '../../helpers/date-time';\r\n\r\nconst MARGIN = 20;\r\nconst PADDING = 10;\r\nconst WIDTH = 180;\r\nconst LINE_HEIGHT = 18;\r\n\r\nexport default class Tooltip {\r\n    constructor(parentNode) {\r\n        this.transformY = createSvgElement('g', {}, 'tt_wrapper');\r\n        this.transformX = createSvgElement('g', {}, 'tt_wrapper');\r\n        this.rect = createSvgElement(\r\n            'rect',\r\n            { x: MARGIN, y: MARGIN, rx: 15, ry: 15, width: WIDTH, transform: 'scale(1 -1)' },\r\n            'tt_rect'\r\n        );\r\n        this.text = createSvgElement('text', {\r\n            x: MARGIN + PADDING,\r\n            y: MARGIN + PADDING + LINE_HEIGHT,\r\n            transform: 'scale(1 -1)'\r\n        });\r\n        this.transformY.appendChild(this.transformX);\r\n        this.transformX.appendChild(this.rect);\r\n        this.transformX.appendChild(this.text);\r\n        parentNode.appendChild(this.transformY);\r\n    }\r\n\r\n    resize() {\r\n        const svgBox = this.transformY.parentNode.getBoundingClientRect();\r\n        this.transformY.setAttribute('transform', `translate(0 ${svgBox.height})`);\r\n    }\r\n\r\n    render(xRel, xAbs, data) {\r\n        if (!data || xRel < 0 || xRel > 1) {\r\n            this.transformY.setAttribute('opacity', '0');\r\n            return;\r\n        }\r\n\r\n        this.transformY.setAttribute('opacity', '1');\r\n        this.rect.setAttribute('height', (data.length + 1) * LINE_HEIGHT + 2 * PADDING);\r\n\r\n        const svgBox = this.transformY.parentNode.getBoundingClientRect();\r\n\r\n        while (this.text.childNodes.length) {\r\n            this.text.removeChild(this.text.childNodes[0]);\r\n        }\r\n\r\n        const xText = createSvgElement('tspan', {}, 'tt_bold');\r\n        xText.textContent = tooltipDate(xAbs);\r\n        this.text.appendChild(xText);\r\n\r\n        data.forEach(({ y, color, name }) => {\r\n            const yName = createSvgElement('tspan', { x: MARGIN + PADDING, dy: LINE_HEIGHT });\r\n            yName.textContent = `${name}: `;\r\n            const yVal = createSvgElement(\r\n                'tspan',\r\n                { fill: color, 'text-anchor': 'end', x: MARGIN + WIDTH - PADDING },\r\n                'tt_bold'\r\n            );\r\n            yVal.textContent = (+y).toFixed(2);\r\n            this.text.appendChild(yName);\r\n            this.text.appendChild(yVal);\r\n        });\r\n\r\n        if (xRel < 0.5) {\r\n            this.transformX.setAttribute('transform', `translate(${xRel * svgBox.width} 0)`);\r\n        } else {\r\n            this.transformX.setAttribute('transform', `translate(${xRel * svgBox.width - 2 * MARGIN - WIDTH} 0)`);\r\n        }\r\n    }\r\n}\r\n","import { createSvgElement } from '../../helpers/elements';\r\nimport './grid.css';\r\nimport { absToRel } from '../../helpers/utils';\r\n\r\nconst ROW_HEIGHT = 18 * 10;\r\nconst COL_WIDTH = 18 * 10;\r\n\r\nexport default class Grid {\r\n    constructor(parentNode) {\r\n        this.node = createSvgElement('g', {});\r\n        this.transform = createSvgElement('g', {}, 'grid_wrapper');\r\n\r\n        parentNode.appendChild(this.node);\r\n        this.node.appendChild(this.transform);\r\n        this.resize();\r\n    }\r\n\r\n    resize() {\r\n        const { width, height } = this.node.parentNode.getBoundingClientRect();\r\n        this.node.setAttribute('transform', `scale(${width} ${height})`);\r\n    }\r\n\r\n    render(x0, x1, y0, y1) {\r\n        const { height, width } = this.node.parentNode.getBoundingClientRect();\r\n\r\n        const countV = height / ROW_HEIGHT;\r\n        const countH = width / COL_WIDTH;\r\n\r\n        let i = 0;\r\n        while ((y1 - y0) / sdf[i] < countV) i++;\r\n        const yStep = sdf[i];\r\n        let j = 0;\r\n        while ((x1 - x0) / sdf[j] < countH) j++;\r\n        const xStep = sdf[j];\r\n\r\n        this.transform.setAttribute('transform', `scale(1 ${1 / (y1 - y0)}) translate(0 ${-y0})`);\r\n\r\n        while (this.transform.childNodes.length) {\r\n            this.transform.removeChild(this.transform.childNodes[0]);\r\n        }\r\n\r\n        i = Math.ceil(y0 / yStep);\r\n        let yCur = i * yStep;\r\n\r\n        while (yCur <= y1) {\r\n            const line = createSvgElement(\r\n                'line',\r\n                { x1: 0, x2: 1, y1: yCur, y2: yCur, 'vector-effect': 'non-scaling-stroke' },\r\n                'grid_line'\r\n            );\r\n            this.transform.appendChild(line);\r\n\r\n            yCur += yStep;\r\n        }\r\n\r\n        j = Math.ceil(x0 / xStep);\r\n        let xCur = j * xStep;\r\n\r\n        while (xCur <= x1) {\r\n            const line = createSvgElement(\r\n                'line',\r\n                {\r\n                    y1: y0,\r\n                    y2: y1,\r\n                    x1: absToRel(xCur, x0, x1),\r\n                    x2: absToRel(xCur, x0, x1),\r\n                    'vector-effect': 'non-scaling-stroke'\r\n                },\r\n                'grid_line'\r\n            );\r\n            this.transform.appendChild(line);\r\n\r\n            xCur += xStep;\r\n        }\r\n    }\r\n}\r\n\r\nconst sdf = [\r\n    100000000,\r\n    50000000,\r\n    20000000,\r\n    10000000,\r\n    5000000,\r\n    2000000,\r\n    1000000,\r\n    500000,\r\n    200000,\r\n    100000,\r\n    50000,\r\n    20000,\r\n    10000,\r\n    5000,\r\n    2000,\r\n    1000,\r\n    500,\r\n    200,\r\n    100,\r\n    50,\r\n    20,\r\n    10,\r\n    5,\r\n    2,\r\n    1,\r\n    0.5,\r\n    0.2,\r\n    0.1,\r\n    0.05,\r\n    0.02,\r\n    0.01\r\n];\r\n","import createCheckBox from '../check-box/check-box';\r\nimport Line from './line';\r\nimport Bars from './bars';\r\nimport { createElement, createSvgElement } from '../../helpers/elements';\r\nimport './chart.css';\r\nimport { absToRel, arrSum, boundBy, calcYBounds, findClosestIndex, getColumns, minmax } from '../../helpers/utils';\r\nimport { addDragAndDropListeners, addListener, removeListener } from '../../helpers/event-listeners';\r\nimport createMap from '../map/map';\r\nimport Tooltip from '../tooltip/tooltip';\r\nimport Grid from '../grid/grid';\r\n\r\nconst typeToConstructor = {\r\n    line: (...props) => new Line(false, ...props),\r\n    bar: (...props) => new Bars(...props),\r\n    area: (...props) => new Line(true, ...props)\r\n};\r\n\r\nconst MIN_WIN_WIDTH = 0.05;\r\n\r\nexport default (data, title) => {\r\n    const chartSvg = createSvgElement('svg', {}, 'ctr_chart');\r\n\r\n    const { colors, names, types, columns, percentage, stacked, y_scaled: doubleY } = data;\r\n\r\n    let { xColumn, yColumns, keys } = getColumns(types, columns);\r\n    yColumns = Object.entries(yColumns)\r\n        .map(([key, col]) => ({ [key]: col.map((el, i) => (i ? el / 1000 : el)) }))\r\n        .reduce((obj, q) => Object.assign(obj, q), {});\r\n\r\n    let x0 = 0;\r\n    let x1 = 1;\r\n    let y0 = 0;\r\n    let y1 = 1;\r\n    let xMouse = null;\r\n    let mouseXFixed = false;\r\n\r\n    let keyToYBound = {};\r\n    let keyToGlobalYBound = {};\r\n    const getYBounds = key =>\r\n        keyToYBound[key] || (keyToYBound[key] = calcYBounds(xColumn, yColumns[key], x0, x1, types[key]));\r\n    const getGlobalYBounds = key =>\r\n        keyToGlobalYBound[key] || (keyToGlobalYBound[key] = calcYBounds(xColumn, yColumns[key], 0, 1, types[key]));\r\n    const resetYBoundsCash = () => (keyToYBound = {});\r\n\r\n    const chartViewportTransform = createSvgElement('g');\r\n    const chartAreaXTransform = createSvgElement('g');\r\n\r\n    const wrapper = createElement('crt_wrapper');\r\n    const controls = createElement('crt_controls');\r\n    const header = createElement();\r\n    header.textContent = title;\r\n\r\n    let tooltip, grid;\r\n\r\n    wrapper.appendChild(header);\r\n    wrapper.appendChild(chartSvg);\r\n    chartSvg.appendChild(chartViewportTransform);\r\n    chartViewportTransform.appendChild(chartAreaXTransform);\r\n    wrapper.appendChild(controls);\r\n\r\n    const init = () => {\r\n        const visualisation = keys\r\n            .reverse()\r\n            .map(key => ({\r\n                [key]: typeToConstructor[types[key]](key, xColumn, yColumns[key], colors[key])\r\n            }))\r\n            .reduce((obj, line) => Object.assign(obj, line), {});\r\n\r\n        const {\r\n            mapNode,\r\n            setMapViewport,\r\n            appendBeforeOverlay,\r\n            setMapWindow,\r\n            windowLeftEdge,\r\n            windowRightEdge,\r\n            mapWindow\r\n        } = createMap();\r\n\r\n        const updateIntersections = xRel => {\r\n            const { width, height } = chartSvg.getBoundingClientRect();\r\n            if (xRel !== -1) xMouse = xRel;\r\n\r\n            const i = findClosestIndex(xColumn, xMouse);\r\n\r\n            const tooltipData =\r\n                xMouse &&\r\n                keys\r\n                    .filter(key => visualisation[key].visible)\r\n                    .map(key => ({\r\n                        y: yColumns[key][i],\r\n                        color: colors[key],\r\n                        name: names[key]\r\n                    }));\r\n            tooltip.render(absToRel(xMouse, x0, x1), xColumn[i], tooltipData);\r\n\r\n            keys.forEach(key => {\r\n                visualisation[key].onMouseMove(xMouse, x0, x1, y0, y1, width, height);\r\n            });\r\n        };\r\n\r\n        const updateYArea = () => {\r\n            let yColumnSum = undefined;\r\n            let yColumnFull = undefined;\r\n\r\n            keys.filter(key => visualisation[key].visible).forEach(key => {\r\n                yColumnFull = arrSum(yColumnFull, yColumns[key]);\r\n            });\r\n\r\n            keys.filter(key => visualisation[key].visible).forEach(key => {\r\n                visualisation[key].onChange(stacked ? yColumnSum : undefined, percentage ? yColumnFull : undefined);\r\n                yColumnSum = arrSum(yColumnSum, yColumns[key]);\r\n            });\r\n\r\n            const { min, max } = stacked\r\n                ? calcYBounds(xColumn, yColumnSum, x0, x1, 'bar')\r\n                : minmax(keys.filter(key => visualisation[key].visible).map(key => getYBounds(key)));\r\n\r\n            // todo: need only one time\r\n            const { min: globalMin, max: globalMax } = stacked\r\n                ? calcYBounds(xColumn, yColumnSum, 0, 1, 'bar')\r\n                : minmax(keys.filter(key => visualisation[key].visible).map(key => getGlobalYBounds(key)));\r\n\r\n            keys.forEach(key => {\r\n                visualisation[key].yChartArea = percentage ? [0, 100] : [min, max];\r\n                visualisation[key].yMapArea = percentage ? [0, 100] : [globalMin, globalMax];\r\n            });\r\n\r\n            y0 = min;\r\n            y1 = max;\r\n            grid.render(x0, x1, y0, y1);\r\n            updateIntersections(-1);\r\n        };\r\n\r\n        const deepUpdateYArea = () => {\r\n            resetYBoundsCash();\r\n            updateYArea();\r\n        };\r\n\r\n        const setUserViewport = (w, h) => {\r\n            chartViewportTransform.setAttribute('transform', `scale(${w} ${h})`);\r\n        };\r\n\r\n        const setXChartArea = (x0, x1) => {\r\n            chartAreaXTransform.setAttribute(\r\n                'transform',\r\n                `\r\n                    scale(${1 / (x1 - x0)} 1) \r\n                    translate(${-x0} 0)\r\n                `\r\n            );\r\n            deepUpdateYArea();\r\n        };\r\n\r\n        const updateXBounds = (a, b) => {\r\n            x0 = a;\r\n            x1 = b;\r\n            setXChartArea(x0, x1);\r\n            setMapWindow(x0, x1);\r\n        };\r\n\r\n        const mount = () => {\r\n            grid = new Grid(chartSvg);\r\n            tooltip = new Tooltip(chartSvg);\r\n\r\n            wrapper.insertBefore(mapNode, controls);\r\n\r\n            keys.forEach(key => {\r\n                chartAreaXTransform.appendChild(visualisation[key].node);\r\n            });\r\n\r\n            keys.forEach(key => {\r\n                appendBeforeOverlay(visualisation[key].mapNode);\r\n            });\r\n\r\n            keys.reverse().forEach(key => {\r\n                visualisation[key].intersectionPoint &&\r\n                    chartSvg.insertBefore(visualisation[key].intersectionPoint, tooltip.transformY);\r\n\r\n                controls.appendChild(\r\n                    createCheckBox(colors[key], names[key], value => {\r\n                        visualisation[key].visible = value;\r\n                        updateYArea();\r\n                    })\r\n                );\r\n            });\r\n        };\r\n\r\n        const onResize = () => {\r\n            const { width: svgWidth, height: svgHeight } = chartSvg.getBoundingClientRect();\r\n            const { width: mapWidth, height: mapHeight } = mapNode.getBoundingClientRect();\r\n            setUserViewport(svgWidth, svgHeight);\r\n            setMapViewport(mapWidth, mapHeight);\r\n\r\n            grid.resize();\r\n            tooltip.resize();\r\n            setMapWindow(x0, x1);\r\n            updateIntersections(-1);\r\n        };\r\n\r\n        mount();\r\n        deepUpdateYArea();\r\n        onResize();\r\n        addListener(window, 'resize', onResize);\r\n\r\n        const getMapX = x => {\r\n            const rect = mapNode.getBoundingClientRect();\r\n            return (x - rect.left) / rect.width;\r\n        };\r\n\r\n        const getChartX = x => {\r\n            const rect = chartSvg.getBoundingClientRect();\r\n            return (x - rect.left) / rect.width;\r\n        };\r\n\r\n        addDragAndDropListeners(mapWindow, coords => {\r\n            const width = x1 - x0;\r\n            const left = getMapX(coords.x);\r\n            const right = left + width;\r\n            updateXBounds(boundBy(left, 0, 1 - width), boundBy(right, width, 1));\r\n        });\r\n        addDragAndDropListeners(windowLeftEdge, coords => {\r\n            const left = getMapX(coords.x + 20);\r\n            updateXBounds(boundBy(left, 0, x1 - MIN_WIN_WIDTH), x1);\r\n        });\r\n        addDragAndDropListeners(windowRightEdge, coords => {\r\n            const right = getMapX(coords.x);\r\n            updateXBounds(x0, boundBy(right, x0 + MIN_WIN_WIDTH, 1));\r\n        });\r\n\r\n        const onMouseMove = e => updateIntersections(x0 + (x1 - x0) * getChartX(e.clientX));\r\n        const onMouseLeave = () => {\r\n            if (!mouseXFixed) updateIntersections();\r\n        };\r\n        addListener(chartSvg, 'mousemove', onMouseMove);\r\n        addListener(chartSvg, 'mouseleave', onMouseLeave);\r\n        addListener(chartSvg, 'touchmove', e => updateIntersections(x0 + (x1 - x0) * getChartX(e.touches[0].clientX)));\r\n        addListener(chartSvg, 'mousedown', () => {\r\n            if (mouseXFixed) {\r\n                addListener(chartSvg, 'mousemove', onMouseMove);\r\n            } else {\r\n                removeListener(chartSvg, 'mousemove', onMouseMove);\r\n            }\r\n            mouseXFixed = !mouseXFixed;\r\n        });\r\n    };\r\n\r\n    return {\r\n        node: wrapper,\r\n        init\r\n    };\r\n};\r\n","import { createElement, createSvgElement } from '../../helpers/elements';\r\nimport './map.css';\r\n\r\nexport default () => {\r\n    const mapSvg = createSvgElement('svg', {}, 'map-chart');\r\n    const map = createElement('map-container');\r\n    const svgWrapper = createElement('map-svg-wrapper');\r\n    const mapViewportTransform = createSvgElement('g');\r\n\r\n    svgWrapper.appendChild(mapSvg);\r\n    map.appendChild(svgWrapper);\r\n    mapSvg.appendChild(mapViewportTransform);\r\n\r\n    const mapOverlayLeft = createSvgElement('rect', { x: 0, y: 0, width: 0, height: 1 }, 'map-overlay');\r\n    const mapOverlayRight = createSvgElement('rect', { x: 1, y: 0, width: 0, height: 1 }, 'map-overlay');\r\n    const mapWindow = createElement('map-window', 'div');\r\n    const windowLeftEdge = createElement('map-left-edge', 'div');\r\n    const windowRightEdge = createElement('map-right-edge', 'div');\r\n\r\n    windowLeftEdge.textContent = windowRightEdge.textContent = '|||';\r\n    mapViewportTransform.append(mapOverlayLeft);\r\n    mapViewportTransform.append(mapOverlayRight);\r\n    map.append(mapWindow);\r\n    map.append(windowLeftEdge);\r\n    map.append(windowRightEdge);\r\n\r\n    const setMapViewport = (w, h) => {\r\n        mapViewportTransform.setAttribute('transform', `scale(${w} ${h})`);\r\n    };\r\n\r\n    const appendBeforeOverlay = node => {\r\n        mapViewportTransform.insertBefore(node, mapOverlayLeft);\r\n    };\r\n\r\n    const setMapWindow = (x0, x1) => {\r\n        mapOverlayLeft.setAttribute('width', x0);\r\n        mapOverlayRight.setAttribute('x', x1);\r\n        mapOverlayRight.setAttribute('width', 1 - x1);\r\n\r\n        const mapWidth = map.getBoundingClientRect().width;\r\n        mapWindow.style.left = `${x0 * mapWidth}px`;\r\n        mapWindow.style.width = `${(x1 - x0) * mapWidth}px`;\r\n        windowLeftEdge.style.left = `${x0 * mapWidth - 20}px`;\r\n        windowRightEdge.style.left = `${x1 * mapWidth - 1}px`;\r\n    };\r\n\r\n    return {\r\n        mapNode: map,\r\n        appendBeforeOverlay,\r\n        setMapViewport,\r\n        setMapWindow,\r\n        windowLeftEdge,\r\n        windowRightEdge,\r\n        mapWindow\r\n    };\r\n};\r\n","import './switch-button.css';\r\nimport { addListener } from '../../helpers/event-listeners';\r\n\r\nconst nightLabel = 'Switch to Day Mode';\r\nconst dayLabel = 'Switch to Night Mode';\r\n\r\nexport default () => {\r\n    const btn = document.createElement('div');\r\n    btn.id = 'btn-switch';\r\n\r\n    let night = false;\r\n    btn.textContent = dayLabel;\r\n\r\n    const switchToNight = () => {\r\n        btn.textContent = nightLabel;\r\n        document.body.className = 'night';\r\n        night = true;\r\n    };\r\n\r\n    const switchToDay = () => {\r\n        btn.textContent = dayLabel;\r\n        document.body.className = '';\r\n        night = false;\r\n    };\r\n\r\n    addListener(btn, 'click', () => {\r\n        if (night) {\r\n            switchToDay();\r\n        } else {\r\n            switchToNight();\r\n        }\r\n    });\r\n\r\n    return btn;\r\n};\r\n","import './global.css';\r\nimport createChart from './components/chart/chart';\r\nimport createFooter from './components/footer/footer';\r\nimport { createElement } from './helpers/elements';\r\n\r\nconst charts = createElement();\r\nconst root = document.getElementById('root');\r\nroot.appendChild(charts);\r\nroot.appendChild(createFooter());\r\n\r\nconst getData = dataNum =>\r\n    import(/* webpackChunkName: \"data\" */ `./data/${dataNum}/overview.json`).then(({ default: data }) => data);\r\n\r\nlet dataPromise = new Promise(e => e());\r\n[1, 2, 3, 4, 5].forEach(chartNum => {\r\n    dataPromise = dataPromise\r\n        .then(() => getData(chartNum))\r\n        .then(data => {\r\n            const { node, init } = createChart(data, 'Chart #' + chartNum);\r\n            charts.appendChild(node);\r\n            init();\r\n        });\r\n});\r\n","import createSwitchButton from '../switch-button/switch-button';\r\nimport './footer.css';\r\n\r\nexport default () => {\r\n    const footer = document.createElement('div');\r\n    footer.id = 'footer';\r\n    footer.appendChild(createSwitchButton());\r\n    return footer;\r\n};\r\n"],"sourceRoot":""}